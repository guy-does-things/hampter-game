[gd_scene load_steps=9 format=2]

[ext_resource path="res://dreadsitereuse/room_template/Room.tscn" type="PackedScene" id=1]
[ext_resource path="res://raw_sprites/bgs/city/farbg.png" type="Texture" id=2]
[ext_resource path="res://raw_sprites/bgs/city/city.png" type="Texture" id=3]
[ext_resource path="res://locations/nitrotasticman/CanvasLayer.gd" type="Script" id=4]
[ext_resource path="res://locations/nitrotasticman/parallaxtest.gd" type="Script" id=5]
[ext_resource path="res://scenes/enemies/boss4/killerfox.tscn" type="PackedScene" id=6]
[ext_resource path="res://locations/nitrotasticman/car_chase.gd" type="Script" id=7]
[ext_resource path="res://locations/gate of cage/boss_spawner.gd" type="Script" id=8]

[node name="A" instance=ExtResource( 1 )]
script = ExtResource( 7 )

[node name="RoomRect" parent="." index="0"]
margin_bottom = 976.0

[node name="TileMap" parent="." index="1"]
tile_data = PoolIntArray( 3276800, 7, 0, 3276801, 7, 0, 3276802, 7, 0, 3276803, 7, 0, 3276804, 7, 0, 3276805, 7, 0, 3276806, 7, 0, 3276807, 7, 0, 3276808, 7, 0, 3276809, 7, 0, 3276810, 7, 0, 3276811, 7, 0, 3276812, 7, 0, 3276813, 7, 0, 3276814, 7, 0, 3276815, 7, 0, 3276816, 7, 0, 3276817, 7, 0, 3276818, 7, 0, 3276819, 7, 0, 3276820, 7, 0, 3276821, 7, 0, 3276822, 7, 0, 3276823, 7, 0, 3276824, 7, 0, 3276825, 7, 0, 3276826, 7, 0, 3276827, 7, 0, 3276828, 7, 0, 3276829, 7, 0, 3276830, 7, 0, 3342336, 7, 0, 3342337, 7, 0, 3342338, 7, 0, 3342339, 7, 0, 3342340, 7, 0, 3342341, 7, 0, 3342342, 7, 0, 3342343, 7, 0, 3342344, 7, 0, 3342345, 7, 0, 3342346, 7, 0, 3342347, 7, 0, 3342348, 7, 0, 3342349, 7, 0, 3342350, 7, 0, 3342351, 7, 0, 3342352, 7, 0, 3342353, 7, 0, 3342354, 7, 0, 3342355, 7, 0, 3342356, 7, 0, 3342357, 7, 0, 3342358, 7, 0, 3342359, 7, 0, 3342360, 7, 0, 3342361, 7, 0, 3342362, 7, 0, 3342363, 7, 0, 3342364, 7, 0, 3342365, 7, 0, 3342366, 7, 0, 3407872, 7, 0, 3407873, 7, 0, 3407874, 7, 0, 3407875, 7, 0, 3407876, 7, 0, 3407877, 7, 0, 3407878, 7, 0, 3407879, 7, 0, 3407880, 7, 0, 3407881, 7, 0, 3407882, 7, 0, 3407883, 7, 0, 3407884, 7, 0, 3407885, 7, 0, 3407886, 7, 0, 3407887, 7, 0, 3407888, 7, 0, 3407889, 7, 0, 3407890, 7, 0, 3407891, 7, 0, 3407892, 7, 0, 3407893, 7, 0, 3407894, 7, 0, 3407895, 7, 0, 3407896, 7, 0, 3407897, 7, 0, 3407898, 7, 0, 3407899, 7, 0, 3407900, 7, 0, 3407901, 7, 0, 3407902, 7, 0, 3670016, 536870916, 1, 3670017, 536870916, 1, 3670018, 536870916, 1, 3670019, 536870916, 1, 3670020, 536870916, 1, 3670021, 536870916, 1, 3670022, 536870916, 1, 3670023, 536870916, 1, 3670024, 536870916, 1, 3670025, 536870916, 1, 3670026, 536870916, 1, 3670027, 536870916, 1, 3670028, 536870916, 1, 3670029, 536870916, 1, 3670030, 536870916, 1, 3670031, 536870916, 1, 3670032, 536870916, 1, 3670033, 536870916, 1, 3670034, 536870916, 1, 3670035, 536870916, 1, 3670036, 536870916, 1, 3670037, 536870916, 1, 3670038, 536870916, 1, 3670039, 536870916, 1, 3670040, 536870916, 1, 3670041, 536870916, 1, 3670042, 536870916, 1, 3670043, 536870916, 1, 3670044, 536870916, 1, 3670045, 536870916, 1, 3670046, 536870916, 1, 3735552, 536870916, 1, 3735553, 536870916, 1, 3735554, 536870916, 1, 3735555, 536870916, 1, 3735556, 536870916, 1, 3735557, 536870916, 1, 3735558, 536870916, 1, 3735559, 536870916, 1, 3735560, 536870916, 1, 3735561, 536870916, 1, 3735562, 536870916, 1, 3735563, 536870916, 1, 3735564, 536870916, 1, 3735565, 536870916, 1, 3735566, 536870916, 1, 3735567, 536870916, 1, 3735568, 536870916, 1, 3735569, 536870916, 1, 3735570, 536870916, 1, 3735571, 536870916, 1, 3735572, 536870916, 1, 3735573, 536870916, 1, 3735574, 536870916, 1, 3735575, 536870916, 1, 3735576, 536870916, 1, 3735577, 536870916, 1, 3735578, 536870916, 1, 3735579, 536870916, 1, 3735580, 536870916, 1, 3735581, 536870916, 1, 3735582, 536870916, 1, 3801088, 536870916, 1, 3801089, 536870916, 1, 3801090, 536870916, 1, 3801091, 536870916, 1, 3801092, 536870916, 1, 3801093, 536870916, 1, 3801094, 536870916, 1, 3801095, 536870916, 1, 3801096, 536870916, 1, 3801097, 536870916, 1, 3801098, 536870916, 1, 3801099, 536870916, 1, 3801100, 536870916, 1, 3801101, 536870916, 1, 3801102, 536870916, 1, 3801103, 536870916, 1, 3801104, 536870916, 1, 3801105, 536870916, 1, 3801106, 536870916, 1, 3801107, 536870916, 1, 3801108, 536870916, 1, 3801109, 536870916, 1, 3801110, 536870916, 1, 3801111, 536870916, 1, 3801112, 536870916, 1, 3801113, 536870916, 1, 3801114, 536870916, 1, 3801115, 536870916, 1, 3801116, 536870916, 1, 3801117, 536870916, 1, 3801118, 536870916, 1, 3866624, 536870916, 1, 3866625, 536870916, 1, 3866626, 536870916, 1, 3866627, 536870916, 1, 3866628, 536870916, 1, 3866629, 536870916, 1, 3866630, 536870916, 1, 3866631, 536870916, 1, 3866632, 536870916, 1, 3866633, 536870916, 1, 3866634, 536870916, 1, 3866635, 536870916, 1, 3866636, 536870916, 1, 3866637, 536870916, 1, 3866638, 536870916, 1, 3866639, 536870916, 1, 3866640, 536870916, 1, 3866641, 536870916, 1, 3866642, 536870916, 1, 3866643, 536870916, 1, 3866644, 536870916, 1, 3866645, 536870916, 1, 3866646, 536870916, 1, 3866647, 536870916, 1, 3866648, 536870916, 1, 3866649, 536870916, 1, 3866650, 536870916, 1, 3866651, 536870916, 1, 3866652, 536870916, 1, 3866653, 536870916, 1, 3866654, 536870916, 1, 3932160, 536870916, 1, 3932161, 536870916, 1, 3932162, 536870916, 1, 3932163, 536870916, 1, 3932164, 536870916, 1, 3932165, 536870916, 1, 3932166, 536870916, 1, 3932167, 536870916, 1, 3932168, 536870916, 1, 3932169, 536870916, 1, 3932170, 536870916, 1, 3932171, 536870916, 1, 3932172, 536870916, 1, 3932173, 536870916, 1, 3932174, 536870916, 1, 3932175, 536870916, 1, 3932176, 536870916, 1, 3932177, 536870916, 1, 3932178, 536870916, 1, 3932179, 536870916, 1, 3932180, 536870916, 1, 3932181, 536870916, 1, 3932182, 536870916, 1, 3932183, 536870916, 1, 3932184, 536870916, 1, 3932185, 536870916, 1, 3932186, 536870916, 1, 3932187, 536870916, 1, 3932188, 536870916, 1, 3932189, 536870916, 1, 3932190, 536870916, 1, 3997696, 536870916, 1, 3997697, 536870916, 1, 3997698, 536870916, 1, 3997699, 536870916, 1, 3997700, 536870916, 1, 3997701, 536870916, 1, 3997702, 536870916, 1, 3997703, 536870916, 1, 3997704, 536870916, 1, 3997705, 536870916, 1, 3997706, 536870916, 1, 3997707, 536870916, 1, 3997708, 536870916, 1, 3997709, 536870916, 1, 3997710, 536870916, 1, 3997711, 536870916, 1, 3997712, 536870916, 1, 3997713, 536870916, 1, 3997714, 536870916, 1, 3997715, 536870916, 1, 3997716, 536870916, 1, 3997717, 536870916, 1, 3997718, 536870916, 1, 3997719, 536870916, 1, 3997720, 536870916, 1, 3997721, 536870916, 1, 3997722, 536870916, 1, 3997723, 536870916, 1, 3997724, 536870916, 1, 3997725, 536870916, 1, 3997726, 536870916, 1 )

[node name="EnemySpawner" type="Position2D" parent="RoomObjectManager" index="0"]
position = Vector2( 448, 768 )
script = ExtResource( 8 )
enemy = ExtResource( 6 )
bossn = "assasin"

[node name="BGS" type="Node" parent="." index="6"]

[node name="CanvasLayer" type="CanvasLayer" parent="BGS" index="0"]
layer = -8
visible = false
script = ExtResource( 4 )

[node name="Farbg" type="Sprite" parent="BGS/CanvasLayer" index="0"]
scale = Vector2( 4, 4 )
texture = ExtResource( 2 )
centered = false
region_rect = Rect2( 0, 0, 992, 0 )

[node name="CityFar2" type="CanvasLayer" parent="BGS" index="1"]
layer = -8
follow_viewport_enable = true
follow_viewport_scale = 0.25
script = ExtResource( 4 )

[node name="Node2D" type="Node2D" parent="BGS/CityFar2" index="0"]
modulate = Color( 0.501961, 0.501961, 0.501961, 1 )
script = ExtResource( 5 )
speed = 200

[node name="Farbg" type="Sprite" parent="BGS/CityFar2/Node2D" index="0"]
position = Vector2( -544, -80 )
scale = Vector2( 4, 4 )
texture = ExtResource( 3 )
centered = false
region_enabled = true
region_rect = Rect2( 0, 0, 992, 67 )

[node name="ColorRect" type="ColorRect" parent="BGS/CityFar2/Node2D" index="1"]
margin_left = -528.0
margin_top = 188.0
margin_right = 4080.0
margin_bottom = 460.0

[node name="CityFar" type="CanvasLayer" parent="BGS" index="2"]
layer = -7
follow_viewport_enable = true
follow_viewport_scale = 0.5
script = ExtResource( 4 )

[node name="Node2D" type="Node2D" parent="BGS/CityFar" index="0"]
modulate = Color( 0.501961, 0.501961, 0.501961, 1 )
script = ExtResource( 5 )
speed = 200

[node name="Farbg" type="Sprite" parent="BGS/CityFar/Node2D" index="0"]
position = Vector2( -544, 144 )
scale = Vector2( 4, 4 )
texture = ExtResource( 3 )
centered = false
region_enabled = true
region_rect = Rect2( 0, 0, 992, 67 )

[node name="CityClose" type="CanvasLayer" parent="BGS" index="3"]
layer = -6
follow_viewport_enable = true
follow_viewport_scale = 0.8
script = ExtResource( 4 )

[node name="Node2D" type="Node2D" parent="BGS/CityClose" index="0"]
script = ExtResource( 5 )
speed = 200

[node name="Farbg" type="Sprite" parent="BGS/CityClose/Node2D" index="0"]
position = Vector2( -96, 401 )
scale = Vector2( 4, 4 )
texture = ExtResource( 3 )
centered = false
region_enabled = true
region_rect = Rect2( 0, 0, 992, 67 )

[connection signal="entered_hitstun" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/AnimationPlayer" method="_on_Entity_entered_hitstun"]
[connection signal="exited_hitstun" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/AnimationPlayer" method="stop"]
[connection signal="recharged" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/Flippables/Node2D" method="stop"]
[connection signal="recharged" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/StateMachine/Tired" method="_on_Entity_recharged"]
[connection signal="recharged" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/AnimationPlayer" method="_on_Entity_recharged"]
[connection signal="tired" from="RoomObjectManager/EnemySpawner/Entity" to="RoomObjectManager/EnemySpawner/Entity/Flippables/Node2D" method="start"]
